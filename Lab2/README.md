# Лабораторна робота №2: Робота з HTTP протоколом, запитами та публічними API

## Мета роботи
Ознайомлення з принципами роботи HTTP-протоколу, обробкою GET та POST-запитів сервером на Python, використанням параметрів у URL, заголовків запиту, збереженням даних у файли та бази даних SQLite.

## Хід роботи

### Завдання 1. Запуск веб-сервера на Flask
Створено простий веб-сервер `server.py` на Flask, який слухає порт 8000 та повертає тестову сторінку.

<p align="center">
  <img src="screens/server.png" alt="Рисунок 1 - Запуск сервера" width="400"/>
</p>
<p align="center"><b>Рисунок 1 - Запуск сервера</b></p>

---

### Завдання 2. Обробка GET-запиту з параметрами
Скрипт `getparam.py` обробляє GET-запит за URL `/currency?today&key=value` і повертає статичне значення курсу USD.

<p align="center">
  <img src="screens/getkey.png" alt="Рисунок 2 - Отримання параметрів GET-запиту" width="400"/>
</p>
<p align="center"><b>Рисунок 2 - Отримання параметрів GET-запиту</b></p>

---

### Завдання 3. Обробка GET-запиту з вибором формату відповіді
Скрипт `headers.py` читає заголовок `Content-Type` запиту і повертає дані у форматі JSON, XML або простим текстом, залежно від значення заголовка.

<p align="center">
  <img src="screens/json.png" alt="Рисунок 3 - Відповідь у форматі JSON" width="400"/>
</p>
<p align="center">
  <img src="screens/xml.png" alt="Рисунок 4 - Відповідь у форматі XML" width="400"/>
</p>
<p align="center"><b>Рисунок 3-4 - Обробка заголовків Content-Type</b></p>

---

### Завдання 4. GET-запит з динамічним курсом валют
Скрипт `getcurrency.py` обробляє GET-запит `/currency?param=<значення>` з параметрами `today` та `yesterday`, отримує актуальний курс USD з API НБУ та повертає його у відповіді.

<p align="center">
  <img src="screens/today.png" alt="Рисунок 5 - Курс USD на сьогодні" width="400"/>
</p>
<p align="center">
  <img src="screens/yesterday.png" alt="Рисунок 6 - Курс USD на вчора" width="400"/>
</p>
<p align="center"><b>Рисунок 5-6 - Динамічний курс валют</b></p>

---

### Завдання 5. Збереження POST-запиту у файл
Скрипт `easypost.py` отримує POST-запит з текстом та зберігає його у файл `data.txt`.

<p align="center">
  <img src="screens/savetxt.png" alt="Рисунок 7 - Збереження даних у файл" width="400"/>
</p>
<p align="center"><b>Рисунок 7 - Збереження даних у файл</b></p>

---

### Завдання 6. Збереження POST-запиту у базу даних SQLite
Скрипт `savetodb.py` отримує POST-запит з текстом та зберігає дані у базу `data.db` у таблицю `messages` з полями `id`, `text` та `created`.

<p align="center">
  <img src="screens/sqldb.png" alt="Рисунок 8 - Збереження даних у SQLite" width="400"/>
</p>
<p align="center"><b>Рисунок 8 - Збереження даних у SQLite</b></p>

---

## Висновки
Під час виконання лабораторної роботи ми ознайомилися з принципами роботи HTTP-протоколу та обробки GET та POST-запитів у Python. Навчилися працювати з параметрами URL та заголовками запитів, зберігати дані у файл та базу даних SQLite. Робота закріпила практичні навички побудови простого веб-сервера та взаємодії з публічними API.
